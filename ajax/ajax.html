<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>ajax实例</title>
</head>
<body>
	<form> 
		姓氏:<input type="text" id="txt1" onkeyup="showHint(this.value)" />
	</form>

	<p>建议: <span id="txtHint"></span></p> 
	<script>
		function showHint(str){
			var xmlhttp;

			//1.判断如果输入框为空，则该函数清空txthint占位符内容，并退出函数
			if(str.length == 0){
				document.getElementById("txtHint").innerHTML="";
				return;
			}

			//如果输入框不为空，则创建XMLHttpRequest对象
			if(window.XMLHttpRequest){
				//code for IE7+,Firefox,Chrome,Opera,Safari
				xmlhttp = new XMLHttpRequest();

			}else {
				//code for IE6,IE5
				xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
			}

			//当服务器响应就绪时执行函数

			xmlhttp.onreadystatechange = function() {
				if(xmlhttp.readyState == 4 && xmlhttp.status == 200) {
					document.getElementById("txtHint").innerHTML = xmlhttp.responseText;
				}
			}

			xmlhttp.open("GET","gethint.asp?q="+str,true);

			xmlhttp.send(null);
		}
	</script>
</body>
</html>